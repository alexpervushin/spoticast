# Spoticast üéµ

Spoticast ‚Äî —ç—Ç–æ Telegram –±–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–≤—Ä–∞—â–∞–µ—Ç –≤–∞—à –∫–∞–Ω–∞–ª –≤ –º—É–∑—ã–∫–∞–ª—å–Ω—ã–π —Å—Ç–∞—Ç—É—Å, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—è—Å—å —Å Spotify –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.

## –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è üéØ

–ë–æ—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç –≤–∞—à Spotify —Å Telegram –∫–∞–Ω–∞–ª–æ–º, –æ–±–Ω–æ–≤–ª—è—è –∏–º—è –∏ —Ñ–æ—Ç–æ –∫–∞–Ω–∞–ª–∞ –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–µ–π –ø–µ—Å–Ω–∏.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ üöÄ

- **–û–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**: –ú–µ–Ω—è–µ—Ç –∏–º—è –∫–∞–Ω–∞–ª–∞ –Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –ø–µ—Å–Ω–∏
- **–§–æ—Ç–æ –∫–∞–Ω–∞–ª–∞**: –°—Ç–∞–≤–∏—Ç –æ–±–ª–æ–∂–∫—É –∞–ª—å–±–æ–º–∞ –∫–∞–∫ —Ñ–æ—Ç–æ –∫–∞–Ω–∞–ª–∞
- **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—Ä–µ–∫–µ**: –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–µ—Ç–∞–ª–∏ –ø–µ—Å–Ω–∏, —Ç–∞–∫–∏–µ –∫–∞–∫:
  - –ù–∞–∑–≤–∞–Ω–∏–µ –∏ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å
  - –ê–ª—å–±–æ–º
  - –î–∞—Ç–∞ –≤—ã—Ö–æ–¥–∞
  - –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
  - –°—Å—ã–ª–∫–∏ –Ω–∞:
    - Spotify
    - –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫–∞
    - VK –ú—É–∑—ã–∫–∞
    - YouTube

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ üíª

### –û—Å–Ω–æ–≤–Ω—ã–µ
- Python
- FastAPI
- SQLAlchemy
- Aiogram

### –°–µ—Ä–≤–∏—Å—ã
- API Spotify
- Telegram Bot API

### –ë–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- PostgreSQL
- SQLite (fallback)

### –ë–∏–±–ª–∏–æ—Ç–µ–∫–∏
- Pydantic
- aiohttp
- logging
- uvicorn

### –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- Docker
- Docker Compose
- –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

## –ù–∞—á–∞–ª–æ —Ä–∞–±–æ—Ç—ã üöÄ

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose
- [–ê–∫–∫–∞—É–Ω—Ç Spotify Developer](https://developer.spotify.com/)
- Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É [@BotFather](https://t.me/BotFather))

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
```bash
git clone https://github.com/alexpervushin/spoticast.git
cd spoticast
```

2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
```env
# Telegram settings
TELEGRAM_BOT_TOKEN=your_bot_token
TELEGRAM_BOT_USERNAME=your_bot_username
ADMIN_USER_ID=your_admin_id

# Spotify settings
SPOTIFY_CLIENT_ID=your_spotify_client_id
SPOTIFY_CLIENT_SECRET=your_spotify_client_secret
SPOTIFY_REDIRECT_URI=http://localhost:8000/callback

# Database settings
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres
POSTGRES_DB=spoticast_db
POSTGRES_HOST=db
POSTGRES_PORT=5432

# Uvicorn settings
UVICORN_HOST=0.0.0.0
UVICORN_PORT=8000
UVICORN_LOG_LEVEL=info
```

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç —á–µ—Ä–µ–∑ Docker Compose:
```bash
docker compose up -d
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–æ—Ç–∞**:
   - –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram (@your_bot_username)
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/start`
   - –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å —á–µ—Ä–µ–∑ Spotify, –Ω–∞–∂–∞–≤ –Ω–∞ –∫–Ω–æ–ø–∫—É "Login to Spotify"

2. **–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫–∞–Ω–∞–ª–∞**:
   - –°–æ–∑–¥–∞–π—Ç–µ –∫–∞–Ω–∞–ª –≤ Telegram
   - –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –∫–∞–Ω–∞–ª–∞
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/setchannel` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞–Ω–∞–ª–∞
   - –ü–µ—Ä–µ—à–ª–∏—Ç–µ –±–æ—Ç—É –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏–∑ –∫–∞–Ω–∞–ª–∞, —á—Ç–æ–±—ã –æ–Ω —Å–º–æ–≥ –ø–æ–ª—É—á–∏—Ç—å ID –∫–∞–Ω–∞–ª–∞

3. **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ**:
   - `/start` - –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è Spotify
   - `/toggle` - –í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
   - `/setchannel` - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–Ω–∞–ª–∞ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
   - `/mychannel` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω–æ–º –∫–∞–Ω–∞–ª–µ
   - `/listusers` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –±–æ—Ç–∞ (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–¥–º–∏–Ω–∞)

## –í–æ–ø—Ä–æ—Å—ã –∏ –æ—Ç–≤–µ—Ç—ã ü§î

### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å Spotify Client ID –∏ Client Secret?
1. –ê–≤—Ç–æ—Ä–∏–∑—É–π—Ç–µ—Å—å –Ω–∞ [Spotify Developer](https://developer.spotify.com/)
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ [Dashboard](https://developer.spotify.com/dashboard/)
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Client ID –∏ Client Secret
5. –î–æ–±–∞–≤—å—Ç–µ Redirect URI –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## TODO üìù
- [ ] –î–æ–±–∞–≤–∏—Ç—å –Ø–Ω–¥–µ–∫—Å –ú—É–∑—ã–∫—É, VK –ú—É–∑—ã–∫—É, YouTube –∏ –¥—Ä.
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Ç–µ—Å—Ç—ã
- [ ] –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- [ ] –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–¥–∞
- [ ] –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

## –õ–∏—Ü–µ–Ω–∑–∏—è üìÑ
[MIT](LICENSE)
